import{g as m,d as c,y as s,a as p,_ as t,b as F,p as o,c as v}from"./index.6613c83e.js";import{g as C}from"./layout.11ce784a.js";function h(l){const n=m(),[u,a]=c({title:"",cat:"\u539F\u803D",author:n.name,createTime:"",content:"",uid:n.id});s(()=>{l.id>0&&p(l.id).then(e=>{a(e.data)})},[]);function i(e,d){a({...u,[e]:d})}function r(){if(!u.title||!u.content||!u.cat||!u.author){alert("\u90FD\u8981\u586B");return}F(u).then(e=>{alert(e.msg),window.history.back()})}return t("div",{className:"upload wrap"},t("div",{className:"title"},t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5408\u96C6",value:u.title,onInput:e=>i("title",e.target.value)})),u.cat==="\u8F6C\u8F7D"&&t("div",{className:"title"},t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u539F\u4F5C\u8005\u540D",value:u.author,onInput:e=>i("author",e.target.value)})),t("textarea",{spellcheck:"false",placeholder:"\u8BF7\u8F93\u5165\u6587\u6848\uFF0C\u652F\u6301 markdown \u8BED\u6CD5",value:u.content,onInput:e=>i("content",e.target.value)}),t("div",{className:"options"},t("select",{onInput:e=>i("cat",e.target.value)},t("option",{value:"\u7ED8\u753B",selected:u.cat==="\u7ED8\u753B"},"\u7ED8\u753B"),t("option",{value:"\u5199\u4F5C",selected:u.cat==="\u5199\u4F5C"},"\u5199\u4F5C"),t("option",{value:"COSPLAY",selected:u.cat==="COSPLAY"},"COSPLAY"),t("option",{value:"\u6E38\u620F",selected:u.cat==="\u6E38\u620F"},"\u6E38\u620F"),t("option",{value:"\u5F71\u97F3",selected:u.cat==="\u5F71\u97F3"},"\u5F71\u97F3"),t("option",{value:"\u6280\u672F",selected:u.cat==="\u6280\u672F"},"\u6280\u672F"),t("option",{value:"\u5176\u5B83",selected:u.cat==="\u5176\u5B83"},"\u5176\u5B83")),l.id>0&&t("input",{type:"text",value:u.createTime,onInput:e=>i("time",e.target.value)})),t("div",{className:"tags"}),t("div",{className:"submit",onClick:r},t("button",null,"\u53D1\u5E03")))}function g({comp:l,props:n}){return t("div",{style:{position:"relative"}},t("div",{className:"center-wrap"},t(l,{...n})),t("div",{className:"mask"},t("i",{class:"icon-font icon-back",onclick:()=>{o("/")}})))}function B(l){const[n,u]=c([]);return console.log(l.id),s(()=>{v("","",0).then(a=>{u(a.data)})},[]),t("div",{class:"wrap"},t("div",{class:"main"},t("div",{class:"write"},t("div",null),t("button",{className:"write-btn",onclick:()=>o("/publish/0")},t("i",{class:"icon-font icon-writerin-f"}," "),"\u53D1\u5E03\u5408\u96C6")),t("div",{className:"terms"},t("ul",null,t("li",null,"\u5408\u96C6"),t("li",null,"\u7B80\u4ECB"),t("li",null,"\u4F5C\u8005"),t("li",null,"\u53D1\u5E03\u65F6\u95F4")),n.length>0?n.map(a=>t("ul",{onClick:()=>o(`/read/${a.id}`)},t("li",null,a.title),t("li",null,C(a.content)),t("li",null,a.author),t("li",null,dayjs(a.createTime).format("YYYY-MM-DD HH:mm")))):t("button",{loading:!0})),l.id&&t(g,{comp:h,props:l})))}export{B as default};
